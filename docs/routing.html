<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- Basic -->
    <title>Routing | ReactQL</title>
    <meta name="description" content="Universal routes, with React Router 4">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicons -->
    <link rel="shortcut icon" type="image/png" href="images/favicons/32x32.png" sizes="32x32" />
    <link rel="shortcut icon" type="image/png" href="images/favicons/16x16.png" sizes="16x16" />

    <!-- Social -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://reactql.org">
    <meta property="og:title" content="Routing | ReactQL">
    <meta property="og:description" content="Universal routes, with React Router 4">
    <meta property="og:image" content="">
    <meta name="twitter:card" content="summary_image_large">
    <meta name="twitter:site" content="">
    <meta name="twitter:title" content="Routing | ReactQL">
    <meta name="twitter:description" content="Universal routes, with React Router 4">
    <meta name="twitter:image" content="">

    <!-- Misc -->
    <meta name="google-site-verification" content="" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,300italic,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/docs/style/style.css">
  </head>
  <body class="">
    

<div class="nav dark">
  <div class="nav-group">
    <div class="nav-item show-mobile">
      <span class="js-sidebar-toggle ">
        <span class="icon-menu"></span>
      </span>
    </div>
    <div class="nav-item">
      
      <a class="logo-wrapper" href="https://reactql.org" title="ReactQL Docs Modern stack for React+GraphQL"  >
        <img src="images/reactql-logo.svg" alt="ReactQL Docs" class="logo"/>
      </a>
    </div>
  </div>

  <div class="nav-group right">
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="https://reactql.org"  >
          <span>Main site</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="https://github.com/reactql/cli"  >
          <span>Github</span>
        </a>
      </div>
    
  </div>
</div>

<div class="sidebar">
  <div class="panel">
    <div class="panel-item">
      <a class="" href="https:/reactql.org" title="ReactQL Docs"  >
        <span>ReactQL Docs Modern stack for React+GraphQL</span>
      </a>
    </div>
    
      <div class="panel-item "">
        <a class="" href="https://reactql.org"  >
          <span>Main site</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="https://github.com/reactql/cli"  >
          <span>Github</span>
        </a>
      </div>
    
  </div>

  <div class="sidebar-content">
    <div class="topcap">
      <span class="title-sidebar">ReactQL</span>
      
    </div>

    

    <ul class="toc">
      
        <li>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="index.html" class="sidebar-link ">
                  <span>Welcome</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Setup</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="setup.html" class="sidebar-link ">
                  <span>Installation</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="layout.html" class="sidebar-link ">
                  <span>Project layout</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Writing Code</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="typescript.html" class="sidebar-link ">
                  <span>ES6 or Typescript?</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="styleguide.html" class="sidebar-link ">
                  <span>Styleguide</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="modules.html" class="sidebar-link ">
                  <span>Module resolution</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="graphql.html" class="sidebar-link ">
                  <span>GraphQL components</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">CSS Styles</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="css.html" class="sidebar-link ">
                  <span>CSS stylesheets</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Concepts</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc  current">
                <a href="" class="sidebar-link  current">
                  <span>Routing</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="bundling.html" class="sidebar-link ">
                  <span>Code bundling</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="ssr.html" class="sidebar-link ">
                  <span>Server side rendering (SSR)</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="env.html" class="sidebar-link ">
                  <span>Server/browser awareness</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="state.html" class="sidebar-link ">
                  <span>Custom Redux stores</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Resources</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="faq.html" class="sidebar-link ">
                  <span>FAQ</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="support.html" class="sidebar-link ">
                  <span>Support</span>
                </a>
              </li>
            
          </ul>
        </li>
      
    </ul>
  </div>
</div>

<div class="content">
  <div class="content-wrapper">
    <div class="header-content">
      <h1 class="title-page">Routing</h1>
      
        <div class="subtitle-page">Universal routes, with React Router 4</div>
      

      <div class="page-actions">
        <div class="actions-group">
          <a class="btn tertiary small round lowercase" href="https://github.com/reactql/docs/tree/master/source/routing.md" target="_blank"><span class="icon-github"></span> <span>Edit on GitHub</span></a>
        </div>
      </div>
    </div>

    <div class="document-formatting">
      <h2 id="declarative" title="Declarative routes">Declarative routes with React Router 4</h2>

<hr>
<p>ReactQL includes <a href="https://reacttraining.com/react-router/" target="_blank" rel="external">React Router v4</a>.</p>
<p>Routes are declared <em>declaratively</em> inside the component chain. There’s no separate configuration to maintain - you simply tell React what to display when a route matches.</p>
<p>The syntax looks like this:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// From React Router</span></div><div class="line"><span class="keyword">import</span> &#123; Link, Route &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</div><div class="line"><span class="keyword">const</span> Component = (</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;ul&gt;</div><div class="line">      &lt;li&gt;&lt;Link to="/"&gt;Home&lt;/Link&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;Link to="/page/about"&gt;About&lt;/Link&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;Link to="/page/contact"&gt;Contact&lt;/Link&gt;&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">    &lt;hr /&gt;</div><div class="line">    &lt;Route exact path="/" component=&#123;Home&#125; /&gt;</div><div class="line">    &lt;Route path="/page/:name" component=&#123;Page&#125; /&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">);</div></pre></td></tr></table></figure>
<p>In the first <code>&lt;Route&gt;</code> in the above example, the <code>&lt;Home&gt;</code> component will load when the path matches <code>/</code> exactly.</p>
<p>In the second, <code>&lt;Page&gt;</code> will show when the path matches <em>at least</em> <code>/path/...</code>, with a <code>match.params.name</code> prop being dynamically passed to <code>&lt;Page&gt;</code>.</p>
<blockquote>
<p>See the <a href="https://reacttraining.com/react-router" target="_blank" rel="external">React Router</a> docs for full usage details.</p>
</blockquote>
<h2 id="params">Match parameters</h2>

<hr>
<p>If you have a route like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Route path=<span class="string">"/page/:name"</span> component=&#123;Page&#125; /&gt;</div></pre></td></tr></table></figure>
<p>… then the <code>name</code> param will be passed to <code>&lt;Page&gt;</code> as follows:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// The &lt;Page&gt; component that we've passed to `component=` in our &lt;Route&gt;</span></div><div class="line"><span class="keyword">const</span> Page = <span class="function">(<span class="params">&#123; match &#125;</span>) =&gt;</span> (</div><div class="line">  &lt;h1&gt;Changed route: &#123;match.params.name&#125;&lt;/h1&gt;</div><div class="line">);</div><div class="line"><span class="comment">// The 'shape' of the props we can expect to be passed by &lt;Route&gt;</span></div><div class="line">Page.propTypes = &#123;</div><div class="line">  <span class="attr">match</span>: React.PropTypes.shape(&#123;</div><div class="line">    <span class="attr">params</span>: React.PropTypes.object,</div><div class="line">  &#125;).isRequired,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>You can declare multiple parameters that will be made available via <code>props.match.params</code>;</p>
<h2 id="ssr">Server-side routes</h2>

<hr>
<p>Routes work on both the server and in the browser. ReactQL will render the initial HTML to reflect the exact route that was requested, giving your visitors fast, relevant content without the typical ‘flicker’ that can often occur with single-page apps that rely solely on client-side routing.</p>
<p>If you run <code>npm run build-run</code> on a new ReactQL starter kit and navigate to <a href="http://localhost:4000/page/about" target="_blank" rel="external">http://localhost:4000/page/about</a>, you can see an example of server-side rendering at work:</p>
<p><img src="images/routing/ssr.png" alt="SSR routing"></p>
<h2 id="linking">Linking in the browser</h2>

<hr>
<p>To create hyperlinks between local routes, use the <code>&lt;Link&gt;</code> component provided by React Router:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// From React Router</span></div><div class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</div><div class="line"><span class="keyword">const</span> Component = (</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;Link to="/page/contact"&gt;Contact&lt;/Link&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">);</div></pre></td></tr></table></figure>
<p>In the browser, clicking a link will load it <em>instantly</em>. There’s no round-trip to the server, meaning your site will function like a <a href="https://en.wikipedia.org/wiki/Single-page_application" target="_blank" rel="external">single page app</a> without any browser refreshes, or DOM tear-down per request.</p>
<p>Existing GraphQL, Redux store data and Javascript variables will remain in memory between route transitions.</p>
<h2 id="not_found">Not found (404) routes</h2>

<hr>
<p>There’s probably times you’ll want to display content when a route <em>doesn’t</em> match. Say, if someone navigates to a link that doesn’t exist, and you want to tell the user they’ve hit a wrong turn.</p>
<p>For those times, we’ve included a <code>&lt;NotFound&gt;</code> component that you can use like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// `&lt;Switch&gt;` component that will execute the first matching route</span></div><div class="line"><span class="keyword">import</span> Switch <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</div><div class="line"><span class="comment">// NotFound 404 handler for unknown routes in `kit/lib/routing`</span></div><div class="line"><span class="keyword">import</span> &#123; NotFound &#125; <span class="keyword">from</span> <span class="string">'kit/lib/routing'</span>;</div><div class="line"><span class="comment">// Assuming we have a `&lt;Home&gt;` that will show up when the path is '/',</span></div><div class="line"><span class="comment">// &lt;Page&gt; that will show when the route is /page/whatever, and &lt;NotFound&gt;</span></div><div class="line"><span class="comment">// at all other times</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; (</div><div class="line">  &lt;Switch&gt;</div><div class="line">    &lt;Route exact path="/" component=&#123;Home&#125; /&gt;</div><div class="line">    &lt;Route path="/page/:name" component=&#123;Page&#125; /&gt;</div><div class="line">    &lt;Route component=&#123;NotFound&#125; /&gt;</div><div class="line">  &lt;/Switch&gt;</div><div class="line">);</div></pre></td></tr></table></figure>
<p>You can extend the component by adding your own content like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Create a component that extends `&lt;NotFound&gt;`</span></div><div class="line"><span class="keyword">const</span> YourOwn404 = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;NotFound&gt;</div><div class="line">    &lt;h1&gt;Hey - no route here by that name, buster!&lt;/h1&gt;</div><div class="line">  &lt;/NotFound&gt;</div><div class="line">);</div><div class="line"><span class="comment">// This will execute the first route that matches (`&lt;YourOwn404&gt;` if not)</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; (</div><div class="line">  &lt;Switch&gt;</div><div class="line">    &lt;Route path="/route/that/exists" component=&#123;TryThisFirst&#125; /&gt;</div><div class="line">    &lt;Route component=&#123;YourOwn404&#125; /&gt;</div><div class="line">  &lt;/Switch&gt;</div><div class="line">);</div></pre></td></tr></table></figure>
<blockquote>
<p>On the server, if a component renders <code>&lt;NotFound&gt;</code> (or any component that extends it), then <code>routeContext.status === 404</code> inside the <a href="https://github.com/reactql/kit/blob/master/kit/entry/server.js#L72" target="_blank" rel="external"><code>createReactHandler</code></a> function that renders the React chain. This allows you to add your own 404 strategy (say, redirecting to a common ‘not found’ page). If you want to do anything special on the server-side, the implementation is left up to you.</p>
</blockquote>
<h2 id="redirects">Redirects (301/302) routes</h2>

<hr>
<p>Like the <code>&lt;NotFound&gt;</code> component, there’s a <code>&lt;Redirect&gt;</code> available too to handle client and server side route redirection:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// `&lt;Switch&gt;` component that will execute the first matching route</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keyword">import</span> Switch <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</div><div class="line"><span class="comment">// `&lt;Redirect&gt;` either 'permanently' or temporarily</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keyword">import</span> &#123; Redirect &#125; <span class="keyword">from</span> <span class="string">'kit/lib/routing'</span>;</div><div class="line"><span class="comment">// Create a redirect component by extending `&lt;Redirect&gt;`</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keyword">const</span> RedirectElsewhere = <span class="function"><span class="params">()</span> =&gt;</span> &lt;Redirect to=<span class="string">"/somewhere/else"</span> /&gt;;</div><div class="line"><span class="comment">// Redirect if the route isn't found</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; (</div><div class="line">  &lt;Switch&gt;</div><div class="line">    &lt;Route exact path="/" component=&#123;Home&#125; /&gt;</div><div class="line">    &lt;Route path="/page/:name" component=&#123;Page&#125; /&gt;</div><div class="line">    &lt;Route component=&#123;RedirectElsewhere&#125; /&gt;</div><div class="line">  &lt;/Switch&gt;</div><div class="line">);</div></pre></td></tr></table></figure>
<p>The ReactQL <code>&lt;Redirect&gt;</code> component extends the ‘native’ component of the same name in <a href="https://reacttraining.com/react-router/web/api/Redirect" target="_blank" rel="external">React Router v4</a> and offers the same <code>from</code>, <code>to</code>, and <code>push</code> attributes.</p>
<p>It adds the <code>permanent</code> boolean option, too. If <code>permanent=true</code>, then <code>routeContext.status === 301</code> inside the <a href="https://github.com/reactql/kit/blob/master/kit/entry/server.js#L72" target="_blank" rel="external"><code>createReactHandler</code></a> that renders the React chain. If <code>permanent=false</code>, then <code>routeContext.status === 302</code>.</p>
<blockquote>
<p>TODO Note: Redirect handling on the server is coming soon!</p>
</blockquote>

    </div>
  </div>

  <div class="pagination">
    <div class="content-wrapper">
      
      
        <a class="link primary prev"
          href="css.html">
          <span class="icon-arrow-left-alt"></span>
          <span class="subtitle-pagination">Previous</span>
          CSS stylesheets
        </a>
      
      
        <a class="link primary next"
          href="bundling.html">
          <span class="subtitle-pagination">Next</span>
          Code bundling
          <span class="icon-arrow-right-alt"></span>
        </a>
      
    </div>
  </div>

  <div class="github">
    <a class="link tertiary " href="https://github.com/reactql/docs/tree/master/source/routing.md" target="_blank">
      <span class="icon-github"></span>Edit on GitHub</a>
  </div>
</div>

    <script src="/docs/script/smooth-scroll.min.js"></script>
    <script src="/docs/script/main.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

    <script>
     
      

      // search box
      

      
    </script>
  </body>
</html>
